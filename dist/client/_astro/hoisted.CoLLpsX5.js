import"./Layout.astro_astro_type_script_index_0_lang.BsPV50OZ.js";const o=document.querySelectorAll(".star-btn"),n=document.getElementById("rating");o.forEach(e=>{e.addEventListener("click",()=>{const r=parseInt(e.dataset.rating);n.value=r,o.forEach((t,a)=>{a<r?(t.classList.remove("text-gray-300"),t.classList.add("text-corporate-yellow")):(t.classList.remove("text-corporate-yellow"),t.classList.add("text-gray-300"))})})});document.getElementById("testimonialForm")?.addEventListener("submit",async e=>{e.preventDefault();const r=new FormData(e.target),t=Object.fromEntries(r);try{if((await fetch("/api/testimonials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,rating:parseInt(t.rating),imageUrl:"/images/testimonials/default-avatar.jpg"})})).ok)alert("¡Gracias por compartir tu experiencia! Tu testimonio será revisado y publicado pronto."),e.target.reset(),o.forEach(s=>{s.classList.remove("text-corporate-yellow"),s.classList.add("text-gray-300")});else throw new Error("Error al enviar el testimonio")}catch(a){console.error("Error:",a),alert("Lo sentimos, hubo un error al enviar tu testimonio. Por favor, intenta nuevamente.")}});
