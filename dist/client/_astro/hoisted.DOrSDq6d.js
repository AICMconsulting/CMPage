import"./Layout.astro_astro_type_script_index_0_lang.BsPV50OZ.js";import"./hoisted.DhkZWAs_.js";class a{constructor(t){this.element=t,this.value=parseInt(t.dataset.value),this.prefix=t.dataset.prefix||"",this.suffix=t.dataset.suffix||"",this.current=0,this.increment=this.value/50,this.interval=50,this.animating=!1}start(){if(this.animating)return;this.animating=!0;const t=()=>{this.current<this.value?(this.current+=this.increment,this.element.textContent=`${this.prefix}${Math.floor(this.current)}${this.suffix}`,requestAnimationFrame(t)):(this.element.textContent=`${this.prefix}${this.value}${this.suffix}`,this.animating=!1)};t()}}const o=()=>{const n=document.querySelectorAll(".counter"),t=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting&&new a(r.target).start()})},{threshold:.2,rootMargin:"0px 0px -10% 0px"});n.forEach(e=>t.observe(e))};document.addEventListener("astro:page-load",o);o();document.getElementById("contactForm")?.addEventListener("submit",async n=>{n.preventDefault();const t=n.target,e=t.querySelector('button[type="submit"]'),r=e.textContent;try{e.disabled=!0,e.textContent="Enviando...";const s=new FormData(t),i=Object.fromEntries(s);if((await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)alert("Â¡Gracias por tu mensaje! Nos pondremos en contacto contigo pronto."),t.reset();else throw new Error("Error al enviar el mensaje")}catch(s){console.error("Error:",s),alert("Lo sentimos, hubo un error al enviar tu mensaje. Por favor, intenta nuevamente.")}finally{e.disabled=!1,e.textContent=r}});
